# ⛵随心远航系统简介

[⛵随心远航](https://github.com/shaoziyang/webnav)是一个基于[WikiDocs](https://github.com/Zavy86/wikidocs)的开源个人网址导航系统，小巧快速，使用方便，可自定义，无需数据库。它适合大部分人的需求，一般用户通过预定义模板使用，喜欢DIY可以用各种方式进行个性化，高手可以随心修改。

![](nav/favicon.ico)

## 特点

- 基于开源的 wikidocs 系统，完全开源
- 体积小，速度快，占用资源少
- 使用简单，无需数据库，维护方便
- 没有广告，没有功能限制
- 无需注册，没有会员和充值，不收集个人信息
- 自由度高，可以按需要灵活定制扩展，限制你的只有想象力
	- 熟悉html、js、css，可以随心修改
	- 如果不熟悉也没关系，按照说明以及模板修改，效果一样很好
	- 每个页面可以独立加入js特效
	- 可以自定义背景图片
	- 可以自由修改导航链接样式、大小、颜色
- 自带markdown编辑器和历史版本管理
- 支持内容搜索功能
- 适配手机浏览器
- 可以和可道云、dokuwiki、ClassCMS、p5js 等系统融合
- 可以作为小型知识库（原本就是 wiki 系统）
- 可以放在U盘/移动硬盘作为便携系统运行
- 可以安装到安卓手机作为随身服务器使用
- 可以作为家庭nas的访问入口
- 支持多级目录，任意建立分类
- 还有不少，有空再慢慢补充 ……

## 安装说明

### 环境要求

系统需要的资源非常低，只需要

- apache2/nginx 服务器，开启 rewrite 功能
- php 7.4 以上版本


#### 通用版本

- 从 github 或 gitee 下载文件
- 将压缩文件解压到服务器根目录
- 打开浏览器，输入系统对应目录网址，进行初始化
- 新建导航分类，在分类中新建网址链接

#### windows portable 版本

windows portable 版本自带 apache2 / php8 精简版，可以放在U盘或移动硬盘中使用。

- 从 github 或 gitee 下载对应文件
- 解压压缩文件到任意目录，可以放在U盘或移动硬盘中。
- 打开文件 `server/conf/httpd.conf`，修改 apache 服务器端口（`Listen 8800`，默认是 8800）。
- 先启动服务器，然后打开浏览器，就可以开始使用了。

## 系统维护

基本不需要特别维护，定期备份一下个人添加的图片（`images目录`），以及编写的网址文件（`datasets/documents`目录），就可以了。

## 使用说明

### 添加分类

点击右上角的<font color=green><b>+</b>加号</font>按钮，可以添加页面（分类），添加后自动创建文件（文件名是content.md），编辑文件后保存就会显示在左侧的导航菜单栏。可以将不同类型的网站分类，放在不同导航页面，这样既方便访问，也容易维护。

每个页面下还可以创建多级目录，如：`分类1/1级子目录/2级子目录`，可以一次创建多级目录。目录级数没有限制，但是左侧只显示前3级，更多子目录会附加到相应页面最后，作为链接显示出来。

默认的页面是 homepage，它相当于主页面，它和下面的子目录是不会显示到左侧的分类栏。可以把最常用的链接放在 homepage 中，点击左上角的标题栏就会显示 homepage 内容。

每个页面可以编写任意内容，格式是 **markdown**，也可以混合 html 语法。可以使用内置的 markdown 编辑器，也可以用外部编辑器编辑。使用内部编辑器时，会自动保存历史存档。

也可以用其它方式创建目录和文件（文件名必须是 content.md），系统会自动识别。

### 添加链接

请运行导航系统后，打开文档查看。

### 设置背景图片

系统默认每天随机更换一次背景图片，背景图片存放在<b><font color=BLUE>随心导航</font></b>目录下的 `images` 文件夹中。可以将任意 jpg、png、webp 图形文件复制到 `images` 文件夹中，不需要特别命名或设置，系统会自动定时进行更换。

#### 改变更新频率

修改 `scripts/wallpaper/wallpaper.php` 文件，将文件起始位置处的 `$DT = 86400;` 中的数字改为其它值。这个数字代表了图片更新时间（秒），86400就是 24 x 3600，也就是一天。改为 600 就是每10分钟改变一次，改为 3600 就是每小时改变一次，如果修改为 0，就代表禁止自动更换背景。

#### 改变指定页面背景

上面的自动更换背景是针对所有页面的。如果希望指定特定页面的背景，可以编辑页面文件，在文件的最后加上下面代码（注意 `<style>` 前面不能有空格）。

```
<style>
body {
  background-image: url(目录/图片文件名);
  background-repeat: no-repeat;
  background-size: cover;
  background-attachment: fixed;
}
</style>
```

图片可以是网络文件，也可以是本地文件。如果文件在导航系统目录下，可以用相对目录，如 `background-image: url(../../images/bg2.jpg);` （不同目录下文件的相对位置不同，请根据具体目录设置，本文件所在位置是 `homepage/使用说明`，因此相对目录是`../../`）。

#### 取消背景图片

先将更新频率设置为 0，然后<b><font color=RED>删除</font></b> `styles/wallpaper.css` 文件（恢复更新后会自动生成），清理浏览器缓存后刷新页面。

<style>
body {
  background-image: url(../../images/bg2.jpg);
  background-repeat: no-repeat;
  background-size: cover;
  background-attachment: fixed;
}
</style>

#### 设置页面特效

每个页面都可以单独设置 javascript 特效。可以从网上搜索一些合适的 js 特效代码，粘贴到页面的最后，保存后自动生效。注意有些特效需要特定设置才能显示，不适合这里使用。

